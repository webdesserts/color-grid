*, *:after, *:before
  box-sizing: border-box

html
  background-color: #efefef
  line-height: 1.6
  font-size: 18px

html, body
  padding: 0
  margin: 0
  height: 100%

// Debuggin Info
/*
.swatches
  background-color: #cdba

.variant-labels
  background-color: #cdea

.group-labels
  background-color: #ba9a

.grid
  background-color: #defa
*/

$hidden-until-hovered
  opacity: 0
  &:hover,
    opacity: 1

$button
  display: flex
  justify-content: center
  overflow: hidden
  background-color: rgba(#000, .07)
  color: #666
  border: none
  box-shadow: 2px 2px rgba(#000, .15)
  &:active
    position: relative
    top: 2px
    left: 2px
    box-shadow: 0 0 0 1px rgba(#000, .1) inset

$text-button
  background-color: transparent
  border: none

$ghost-button
  @extends $hidden-until-hovered
  background-color: #f5f5f5
  border: 1px dashed #bfbfbf
  transition: opacity 0.3s ease, flex 0.15s ease, margin 0.15s ease;

/* Layout */

$grid-padding = 50px
$min-swatch-size = 70px

.palette
  display: flex
  flex-flow: column
  justify-content: center
  align-items: center
  height: 100%

.grid
  display: flex
  flex-flow: row wrap
  align-items: stretch
  flex: 1 0 80%
  min-width: 100%
  max-width: 800px
  padding-right: $grid-padding
  padding-bottom: $grid-padding
  overflow: scroll

.controls
  display: flex
  justify-content: center
  flex: 1 0 80px
  width: 100%
  min-height: 80px
  padding: 20px
  button
    padding: 0 40px
  button+button
    margin-left: 10px

.selector
  display: flex
  flex: 1
  margin: 5px
  &:before
    margin: auto
    line-height: 0

.group-selectors
  display: flex
  flex: 100%
  min-height: $grid-padding
  .selector:before
    padding-bottom: 15px

.sort
  width: $grid-padding - 10px
  margin: 5px 5px 5px 5px

.variant-selectors
  display: flex
  flex-flow: column
  width: $grid-padding
  .selector:before
    padding-top: 8px

.group
  display: flex
  flex-flow: column
  flex 1 1 $min-swatch-size
  min-height: 90%

.variant
  display: flex
  position: relative
  flex: 1 3 $min-swatch-size
  //margin: 5px
  .swatch
    flex: 1 1 100%
    transition: margin .15s ease
  &:hover .swatch
    margin: -5px
    z-index: 2
  &.selected
    box-shadow: 0 0 0 5px rgba(#000, 0.1)
    z-index: 1
  .remove
    display: none
    position: absolute
    right: 0
  &:hover .remove
    display: block

.empty.variant
  display: flex

.create-color
  cursor: pointer
  height: 30px
  width: 30px
  margin: auto
  line-height: 0

/* Visuals */

.controls
  background-color: #ddd
  border-top: 3px solid #bfbfbf

.sort
  @extends $button
  @extends $hidden-until-hovered

.group-selectors,
.variant-selectors
  text-align: center
  color: #bbb

.group-selectors
  &:before
    content: ''
  .selector:before
    content: '˯'

.variant-selectors
  .selector:before
    content: '˃'

.selector
  @extends $button
  @extends $hidden-until-hovered
  font-size: 20px

.group
  transition: flex 0.15s ease, margin 0.15s ease;

.variant
  //border-radius: 5px
  transition: flex 0.15s ease, margin 0.15s ease;
  .swatch
    background-color: #666
  .remove
    @extend $text-button
    color: white

.empty.variant
  @extends $ghost-button

.create-color,
.create-variant,
.create-group,
  @extend $button

